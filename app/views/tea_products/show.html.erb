<div class="max-w-4xl mx-auto px-4 py-8">

  <!-- 上部：画像 -->
  <div class="w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center mb-8">
    <span class="text-sm text-gray-400">
      No Image
    </span>
  </div>

  <!-- 商品情報 -->
  <div class="bg-white rounded-lg shadow-sm border p-6 space-y-4">

    <!-- 紅茶名 -->
    <h1 class="text-2xl font-bold text-gray-800">
      <%= @tea_product.name %>
    </h1>

    <!-- ブランド名 -->
    <% if @tea_product.brand.present? %>
      <p class="text-gray-600">
        ブランド：
        <span class="font-medium">
          <%= @tea_product.brand.name_ja.presence || @tea_product.brand.name_en %>
        </span>
      </p>
    <% end %>

    <!-- タイプ -->
    <% if @tea_product.tea_type.present? %>
      <p class="text-gray-600">
        タイプ：
        <span class="font-medium">
           <%= @tea_product.enum_i18n(:tea_type) %>
        </span>
      </p>
    <% end %>

    <!-- カフェイン -->
    <% if @tea_product.caffeine_level.present? %>
      <p class="text-gray-600">
        カフェイン：
        <span class="font-medium">
          <%= @tea_product.enum_i18n(:caffeine_level) %>
        </span>
      </p>
    <% end %>

     <!-- フレーバー -->
    <% if @tea_product.flavors.any? %>
      <div class="text-gray-600">
        フレーバー：
        <div class="mt-2 space-y-2">
          <% @tea_product.flavors
              .group_by(&:flavor_category)
              .each do |category, flavors| %>

            <div>
              <p class="font-medium text-gray-700">
                <%= category.name %>
              </p>
              <ul class="flex flex-wrap gap-2 mt-1">
                <% flavors.each do |flavor| %>
                  <li class="px-2 py-1 text-sm bg-gray-100 rounded">
                    <%= flavor.name %>
                  </li>
                <% end %>
              </ul>
            </div>

          <% end %>
        </div>
      </div>
    <% end %>

    <!-- 購入場所 -->
    <% if @tea_product.purchase_locations.any? %>
      <div class="text-gray-600">
        購入場所：
        <ul class="mt-2 space-y-1">
          <% @tea_product.purchase_locations.each do |location| %>
            <li class="flex items-center gap-2">
              <span class="text-sm text-gray-500">
                <%= location.enum_i18n(:location_type) %>
              </span>
              <span class="font-medium">
                <%= location.name %>
              </span>
            </li>
          <% end %>
        </ul>
      </div>
    <% end %>

  </div>

  <!-- 戻るリンク -->
  <div class="mt-6">
    <%= link_to "検索結果に戻る",
                tea_products_path(q: params[:q]&.to_unsafe_h),
                class: "text-sm text-blue-600 hover:underline" %>
  </div>

</div>
