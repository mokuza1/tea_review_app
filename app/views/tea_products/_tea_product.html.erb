<%= link_to tea_product_path(tea_product, q: params[:q]&.to_unsafe_h),
            class: "block group" do %>

  <div
    class="flex bg-[#FDFBF9] border border-[#D6CEC5] rounded-xl shadow-sm overflow-hidden
           hover:shadow-[0_4px_20px_rgb(54,84,66,0.15)] hover:-translate-y-0.5 hover:border-[#365442]/40 transition duration-300">

    <div class="w-28 h-28 sm:w-36 sm:h-36 flex-shrink-0 bg-[#EBE5DE] overflow-hidden border-r border-[#D6CEC5] relative">

      <% if tea_product.image.attached? %>
        <div class="w-full h-full mix-blend-multiply opacity-90 transition duration-500 group-hover:scale-105 group-hover:opacity-100">
           <%= image_tag tea_product.image,
               class: "w-full h-full object-cover" %>
        </div>
      <% else %>
        <div class="w-full h-full flex flex-col items-center justify-center text-[#998B7D] bg-[#F2F0EB]">
           <span class="text-xs font-serif tracking-widest opacity-50">NO IMAGE</span>
        </div>
      <% end %>
      
      <div class="absolute inset-0 bg-gradient-to-tr from-[#365442]/10 to-transparent opacity-0 group-hover:opacity-100 transition"></div>

    </div>

    <div class="p-5 flex flex-col justify-between flex-1">

      <div>
        <h2
          class="text-lg sm:text-xl font-serif font-medium text-[#365442] tracking-wide mb-1
                 group-hover:text-[#2A4034] transition">
          <%= tea_product.name %>
        </h2>

        <% if tea_product.brand.present? %>
          <p class="text-xs sm:text-sm font-bold text-[#A75F29] tracking-wider uppercase opacity-90 flex items-center gap-2">
            <span class="w-1.5 h-1.5 rounded-full bg-[#D6CEC5]"></span>
            <%= tea_product.brand.name_ja || tea_product.brand.name_en %>
          </p>
        <% end %>
      </div>

      <div class="flex items-end justify-between mt-2">
         <div class="text-[10px] sm:text-xs text-[#998B7D] font-mono tracking-wider uppercase">
           RECORDED: <%= l tea_product.created_at, format: :short %>
         </div>
         
         <div class="text-[#365442] opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition duration-300">
           <span class="text-lg font-serif">â†’</span>
         </div>
      </div>

    </div>

  </div>

<% end %>
