<h2 class="text-2xl font-bold mb-6">
  ブランド承認詳細
</h2>

<div class="bg-white border rounded-lg p-6 space-y-6">

  <!-- 基本情報 -->
  <div>
    <h3 class="text-lg font-semibold mb-2">基本情報</h3>

    <dl class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4 text-sm">
      <div>
        <dt class="text-gray-500">日本語名</dt>
        <dd class="font-medium">
          <%= @brand.name_ja.presence || "未設定" %>
        </dd>
      </div>

      <div>
        <dt class="text-gray-500">英語名</dt>
        <dd class="font-medium">
          <%= @brand.name_en.presence || "未設定" %>
        </dd>
      </div>

      <div>
        <dt class="text-gray-500">国</dt>
        <dd class="font-medium">
          <%= @brand.country.presence || "未設定" %>
        </dd>
      </div>

      <div>
        <dt class="text-gray-500">ステータス</dt>
        <dd class="font-medium">
          <%= @brand.enum_i18n(:status) %>
        </dd>
      </div>
    </dl>
  </div>

  <!-- 説明 -->
  <div>
    <h3 class="text-lg font-semibold mb-2">説明</h3>
    <p class="text-sm text-gray-700 whitespace-pre-wrap">
      <%= @brand.description.presence || "説明はありません" %>
    </p>
  </div>

  <!-- 承認情報（承認済み・却下済みの場合） -->
  <% if @brand.published? || @brand.rejected? %>
    <div>
      <h3 class="text-lg font-semibold mb-2">承認情報</h3>
      <p class="text-sm text-gray-700">
        承認者：
        <%= @brand.approved_by&.name %><br>
        承認日時：
        <%= l(@brand.approved_at) %>
      </p>
    </div>
  <% end %>

  <!-- 管理者編集 -->
  <div class="border-t pt-6">
    <h3 class="text-lg font-semibold mb-4">
      管理者による情報補完
    </h3>

    <%= form_with model: [:admin, @brand], method: :patch, class: "space-y-4" do |f| %>
      <div>
        <%= f.label :name_ja, "日本語名", class: "block text-sm font-medium text-gray-700" %>
        <%= f.text_field :name_ja, class: "mt-1 block w-full border rounded px-3 py-2" %>
      </div>

      <div>
        <%= f.label :name_en, "英語名", class: "block text-sm font-medium text-gray-700" %>
        <%= f.text_field :name_en, class: "mt-1 block w-full border rounded px-3 py-2" %>
      </div>

      <div>
        <%= f.label :country, "国", class: "block text-sm font-medium text-gray-700" %>
        <%= f.text_field :country, class: "mt-1 block w-full border rounded px-3 py-2" %>
      </div>

      <div>
        <%= f.label :description, "説明", class: "block text-sm font-medium text-gray-700" %>
        <%= f.text_area :description, rows: 4, class: "mt-1 block w-full border rounded px-3 py-2" %>
      </div>

      <div class="flex justify-end">
        <%= f.submit "情報を更新",
              class: "px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-800" %>
      </div>
    <% end %>
  </div>

  <!-- 操作 -->
  <div class="flex justify-between items-center pt-4 border-t">
    <%= link_to "一覧に戻る",
          admin_root_path,
          class: "text-sm text-gray-600 hover:underline" %>

    <% if @brand.pending? %>
      <div class="flex gap-3">
        <%= button_to "承認",
              approve_admin_brand_path(@brand),
              method: :patch,
              class: "px-4 py-2 bg-green-600 text-white rounded" %>

        <%= button_to "却下",
              reject_admin_brand_path(@brand),
              method: :patch,
              class: "px-4 py-2 bg-red-600 text-white rounded" %>
      </div>
    <% end %>
  </div>
</div>
